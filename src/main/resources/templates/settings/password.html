<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments.html :: head"></head>
<body class="bg-light">

<div th:replace="fragments.html :: main-nav"></div>
<div class="container">
  <div class="row mt-5 justify-content-center">

    <div class="col-2">
      <!-- currentMenu가 profile인 상태-->
      <div th:replace="fragments.html :: settings-menu(currentMenu='password')"></div>
    </div>

    <div class="col-8">
      <div th:if="${message}" class="alert alert-info alert-dismissible fade show mt-3" role="alert">
        <span th:text="${message}">메시지</span>
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <h2>패스워드 변경</h2>

      <form action="#" th:action="@{/settings/password}" th:object="${password}" method="post" novalidate>
        <div class="form-group">
          <label for="password">새 패스워드</label>
          <input id="password" type="password" th:field="*{password}" class="form-control"
                 placeholder="new password" aria-describedby="passwordHelp" required minlength="8" maxlength="50">
          <small id="passwordHelp" class="form-text text-muted">
            새 패스워드를 입력하세요.
          </small>
          <small class="form-text text-danger" th:if="${#fields.hasErrors('password')}" th:errors="*{password}">
            비밀번호는 8 ~ 50 자 사이로 입력해주세요.
          </small>
        </div>

        <div class="form-group">
          <label for="passwordConfirm">새 패스워드</label>
          <input id="passwordConfirm" type="password" th:field="*{passwordConfirm}" class="form-control"
                 placeholder="passwordConfirm" aria-describedby="passwordConfirmHelp" required minlength="8" maxlength="50">
          <small id="passwordConfirmHelp" class="form-text text-muted">
            새 패스워드를 다시 입력하세요.
          </small>
          <small class="form-text text-danger" th:if="${#fields.hasErrors('passwordConfirm')}" th:errors="*{passwordConfirm}">
            새 패스워드와 새 패스워드 확인이 동일하지 않습니다.
          </small>
        </div>

        <div class="form-group">
          <button class="btn btn-primary btn-block" type="submit"
                  aria-describedby="submitHelp">패스워드 변경하기
          </button>
        </div>

      </form>
    </div>
  </div>
</div>
</body>
<script th:replace="fragments.html :: form-validation"></script>
</html>